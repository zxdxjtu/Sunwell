<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç‚‰çŸ³ä¼ è¯´éšä»å¡ç‰Œæ¼”ç¤º</title>
    <!-- å­—ä½“æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç§»é™¤CSSå¼•ç”¨ -->
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        .cards-container {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
        }
        .card-wrapper {
            text-align: center;
        }
        .card-title {
            margin-bottom: 10px;
            font-size: 18px;
            font-weight: bold;
        }
        canvas {
            border: 3px solid #ffd700;
            border-radius: 15px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
        }
        .error {
            color: #ff6b6b;
            background: rgba(255,107,107,0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .loading {
            color: #4ecdc4;
            font-style: italic;
        }
        .success {
            color: #4ecdc4;
            background: rgba(78,205,196,0.1);
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”¥ ç‚‰çŸ³ä¼ è¯´éšä»å¡ç‰Œæ¼”ç¤º ğŸ”¥</h1>
        
        <div class="cards-container">
            <div class="card-wrapper">
                <div class="card-title">ä¼ è¯´éšä»</div>
                <canvas id="legendaryCard" width="400" height="600"></canvas>
            </div>
            
            <div class="card-wrapper">
                <div class="card-title">å²è¯—éšä»</div>
                <canvas id="epicCard" width="400" height="600"></canvas>
            </div>
            
            <div class="card-wrapper">
                <div class="card-title">ç¨€æœ‰éšä»</div>
                <canvas id="rareCard" width="400" height="600"></canvas>
            </div>
        </div>
        
        <div id="status" class="loading">æ­£åœ¨åŠ è½½Sunwellåº“...</div>
    </div>

    <!-- ä½¿ç”¨å®˜æ–¹CDNç‰ˆæœ¬çš„Sunwellåº“ -->
    <script src="https://sunwell.hearthsim.net/branches/master/sunwell.cdn.min.js"></script>
    <script>
        // ç­‰å¾…DOMåŠ è½½å®Œæˆ
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('status');
            
            try {
                // æ£€æŸ¥Sunwellæ˜¯å¦å¯ç”¨
                if (typeof Sunwell === 'undefined') {
                    throw new Error('Sunwellåº“æœªæ­£ç¡®åŠ è½½');
                }
                
                statusDiv.innerHTML = 'æ­£åœ¨åˆå§‹åŒ–Sunwell...';
                
                // åˆå§‹åŒ–Sunwellå®ä¾‹
                const sunwell = new Sunwell({
                    assetFolder: './assets/',
                    titleFont: "belwe_fsextrabold",
                    bodyFontRegular: "franklin_gothic_fsMdCn",
                    bodyFontItalic: "franklin_gothic_fsMdCnIt",
                    bodyFontBold: "franklin_gothic_fsDemiCn",
                    bodyFontBoldItalic: "franklin_gothic_fsDemiCn",
                    bodyFontSize: 38,
                    bodyLineHeight: 40,
                    bodyFontOffset: {x: 0, y: 26},
                    debug: true
                });
                
                statusDiv.innerHTML = 'æ­£åœ¨æ¸²æŸ“å¡ç‰Œ...';
                
                // ä¼ è¯´éšä»å¡ç‰Œæ•°æ®
                const legendaryCardData = {
                    "id": "LEGENDARY_001",
                    "name": "é¾™ç‹ç›é‡Œè‹Ÿæ–¯",
                    "text": "<b>æˆ˜å¼ï¼š</b>å°†5å¼ æ³•æœ¯ä¼¤å®³+2çš„æ³•æœ¯ç‰Œç½®å…¥ä½ çš„æ‰‹ç‰Œã€‚",
                    "flavor": "æ›¾ç»çš„å®ˆæŠ¤å·¨é¾™ï¼Œç°åœ¨çš„æ¯ç­ä¹‹æºã€‚",
                    "attack": 4,
                    "health": 12,
                    "cost": 9,
                    "cardClass": "NEUTRAL",
                    "rarity": "LEGENDARY",
                    "type": "MINION",
                    "race": "DRAGON",
                    "set": "EXPERT1",
                    "collectible": true,
                    "elite": true,
                    "texture": null
                };
                
                // å²è¯—éšä»å¡ç‰Œæ•°æ®
                const epicCardData = {
                    "id": "EPIC_001",
                    "name": "æš®å…‰å®ˆæŠ¤è€…",
                    "text": "<b>å˜²è®½</b>\n<b>æˆ˜å¼ï¼š</b>å¦‚æœä½ çš„æ‰‹ç‰Œä¸­æœ‰é¾™ç‰Œï¼Œè·å¾—+1æ”»å‡»åŠ›ã€‚",
                    "flavor": "å®ˆæŠ¤ç€å¤è€ç§˜å¯†çš„é¾™æ—æˆ˜å£«ã€‚",
                    "attack": 2,
                    "health": 4,
                    "cost": 4,
                    "cardClass": "NEUTRAL",
                    "rarity": "EPIC",
                    "type": "MINION",
                    "race": "DRAGON",
                    "set": "EXPERT1",
                    "collectible": true,
                    "texture": null
                };
                
                // ç¨€æœ‰éšä»å¡ç‰Œæ•°æ®
                const rareCardData = {
                    "id": "RARE_001",
                    "name": "é’é“œé¾™",
                    "text": "<b>æˆ˜å¼ï¼š</b>å‘ç°ä¸€å¼ æ³•å¸ˆæ³•æœ¯ç‰Œã€‚",
                    "flavor": "æ—¶é—´çš„å®ˆæŠ¤è€…ï¼ŒæŒæ¡ç€ç¥ç§˜çš„é­”æ³•ã€‚",
                    "attack": 3,
                    "health": 5,
                    "cost": 5,
                    "cardClass": "MAGE",
                    "rarity": "RARE",
                    "type": "MINION",
                    "race": "DRAGON",
                    "set": "EXPERT1",
                    "collectible": true,
                    "texture": null
                };
                
                let completedCards = 0;
                const totalCards = 3;
                
                // æ¸²æŸ“å¡ç‰Œçš„å‡½æ•°
                function renderCard(cardData, canvasId, cardName) {
                    const canvas = document.getElementById(canvasId);
                    if (!canvas) {
                        console.error(`Canvas ${canvasId} not found`);
                        return;
                    }
                    
                    try {
                        sunwell.createCard(
                            cardData,
                            400,
                            false,
                            canvas,
                            function() {
                                console.log(`${cardName} æ¸²æŸ“å®Œæˆ`);
                                completedCards++;
                                if (completedCards === totalCards) {
                                    statusDiv.innerHTML = 'âœ… æ‰€æœ‰å¡ç‰Œæ¸²æŸ“å®Œæˆï¼ä½¿ç”¨çœŸæ­£çš„Sunwellåº“';
                                    statusDiv.className = 'success';
                                }
                            }
                        );
                    } catch (error) {
                        console.error(`æ¸²æŸ“ ${cardName} æ—¶å‡ºé”™:`, error);
                        statusDiv.innerHTML = `âŒ æ¸²æŸ“ ${cardName} å¤±è´¥: ${error.message}`;
                        statusDiv.className = 'error';
                    }
                }
                
                // æ¸²æŸ“æ‰€æœ‰å¡ç‰Œ
                renderCard(legendaryCardData, 'legendaryCard', 'é¾™ç‹ç›é‡Œè‹Ÿæ–¯');
                renderCard(epicCardData, 'epicCard', 'æš®å…‰å®ˆæŠ¤è€…');
                renderCard(rareCardData, 'rareCard', 'é’é“œé¾™');
                
            } catch (error) {
                console.error('åˆå§‹åŒ–Sunwellæ—¶å‡ºé”™:', error);
                statusDiv.innerHTML = `âŒ åŠ è½½å¤±è´¥: ${error.message}`;
                statusDiv.className = 'error';
            }
        });
    </script>
</body>
</html>